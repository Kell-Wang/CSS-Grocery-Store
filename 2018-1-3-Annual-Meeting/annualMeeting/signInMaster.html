<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <base href="<%=basePath%>">
    <title>智付集团2017年终会-签到</title>
	<meta http-equiv="pragma" content="no-cache">
	<meta http-equiv="cache-control" content="no-cache">
	<meta http-equiv="expires" content="0">    
	<meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
	<meta http-equiv="description" content="This is my page">
    <link rel="stylesheet" type="text/css" href=" static/css/reset.css">
    <link rel="stylesheet" type="text/css" href=" static/css/global.css">
	<script type="text/javascript" src=" static/js/jquery-1.8.0.js"></script>
	<script type="text/javascript" src=" static/js/utf.js"></script>
	<script type="text/javascript" src=" static/js/jquery.qrcode.js"></script>
	<style type="text/css">

        .middle-qr-code {
            margin:2em auto;
            width:460px; height:460px;
            overflow:hidden;
            background:url(" static/img/QR-code-frame.png") no-repeat center center;
            background-size:cover;
        }
        .middle-qr-code > canvas {
            width:350px; height:350px;
            background:#f2dede;
            display:block; margin:55px auto;
        }

        h1 {
            text-align:center; font-size:108px;
            margin-top:12%;
            letter-spacing:13px;
        }
    </style>
	<script type="text/javascript">
		var qrCodeContent = '${qrCodeContent}';
		var defaultCountdown = '${defaultCountdown}';//刷新倒计时
		$(document).ready(function() {
			setTimeout('refresh()',defaultCountdown);
			$("#qrcodeCanvas").qrcode({
				render : "canvas",    //设置渲染方式，有table和canvas，使用canvas方式渲染性能相对来说比较好
				text : qrCodeContent,    //扫描了二维码后的内容
				width : "350",               //二维码的宽度
				height : "350",              //二维码的高度
				background : "#ffffff",       //二维码的后景色
				foreground : "#000000"        //二维码的前景色
				<%-- src: ' static/image/logo_new_2.png'    //二维码中间的图片 --%>
			});
		}); 
		
		function refresh(){
		   window.location.replace("annualMeeting/signinMasterIndex.htm");
		}
		
 	</script>
  </head>
  
  <body>
	 <div class="wall">
        <!--绝对定位背景大图-->
        <div class="absolute-bg">
            <img src=" static/img/bg.png" alt="">
        </div>

        <!--中部二维码-->
        <h1>智付钱包 扫码签到</h1>
        <div class="middle-qr-code" id="qrcodeCanvas">
            
        </div>
        <!--<h3>用智付钱包APP，扫码签到</h3>-->
    </div>
	<script>
	    window.onload = function () {
	        var stateObject = {};
	    	var title = "智付集团2017年终会-签到";
	    	var newUrl = "/";
	    	history.pushState(stateObject,title,newUrl);

	    }
	   
	   /*  window.onresize=function(){
	    	var phoneHeight = window.innerHeight;
	        var phonewidth=window.innerWidth;
	        document.getElementsByClassName("index")[0].style.height = phoneHeight + "px";
	    } */
	    
	    	javascript:window.history.forward(1);
	    	//处理键盘事件 禁止后退键（Backspace）密码或单行、多行文本框除外 
	    	function banBackSpace(e){ 
		    	var ev = e || window.event;//获取event对象 
		    	var obj = ev.target || ev.srcElement;//获取事件源 
	
		    	var t = obj.type || obj.getAttribute('type');//获取事件源类型 
	
		    	//获取作为判断条件的事件类型 
		    	var vReadOnly = obj.getAttribute('readonly'); 
		    	var vEnabled = obj.getAttribute('enabled'); 
		    	//处理null值情况 
		    	vReadOnly = (vReadOnly == null) ? false : vReadOnly; 
		    	vEnabled = (vEnabled == null) ? true : vEnabled; 
	
		    	//当敲Backspace键时，事件源类型为密码或单行、多行文本的， 
		    	//并且readonly属性为true或enabled属性为false的，则退格键失效 
		    	var flag1=(ev.keyCode == 8 && (t=="password" || t=="text" || t=="textarea") && (vReadOnly==true || vEnabled!=true))?true:false; 
	
		    	//当敲Backspace键时，事件源类型非密码或单行、多行文本的，则退格键失效 
		    	var flag2=(ev.keyCode == 8 && t != "password" && t != "text" && t != "textarea")?true:false; 

		    	//判断 
		    	if(flag2){ 
		    	return false; 
		    	} 
		    	if(flag1){ 
		    	return false; 
		    	} 
	    	} 

	    	//禁止后退键 作用于Firefox、Opera 
	    	document.onkeypress=banBackSpace; 
	    	//禁止后退键 作用于IE、Chrome 
	    	document.onkeydown=banBackSpace; 
	    
	</script>
  </body>
</html>
